<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>React para Iniciantes</title>
  <!-- Carrega o React, React Dom e Babel -->
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <!-- Don't use this in production (Babel converte arquivo .jsx em .js) -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>

<body>
  <div id="app">App</div> <!-- Elemento a ser manipulado pelo react. -->

  <script type="text/babel">  // Necessário indicar o type="text/babel" para indicar para o Babel que ele deve transpilar o código.
    // Use as {} para executar expressões de JavaScript e mostrar o resultado no DOM.

    const MainNav = () => {
      return <ul>
        <li><a href="#">Link 1</a></li>
        <li><a href="#">Link 2</a></li>
      </ul>
    }

    const Produtos = () => {
      const [count, setCount] = React.useState(1) // Este método (Hooks) retorna um array [estado, função que atualiza o valor do estado]. Com relação a construção do método React.useState(), o vai dentro do parêntese é o argumento que define o estado inicial, que neste caso é 1.
      const produto1 = 'Camisa'

      function Adicionar() {
        setCount(count + 1) // Atualiza o valor do estado.
      }

      function Subtrair() {
        setCount(count - 1) // Atualiza o valor do estado.
      }

      return <div>
        <button onClick={Subtrair}>-</button>
        {` ${count} ${produto1}`} - R$ {`${parseFloat('10.00')}` * count + ' '}
        <button onClick={Adicionar}>+</button>
      </div>
    }

    const Button = () => {
      function handleClick(event) {
        event.target.innerHTML = event.target.innerHTML === 'Comprar' ? 'Compra Confirmada!' : 'Comprar'
      }
      return <button onClick={handleClick}>Comprar</button>
    }

    // Cria um componente chamado App, o componente retorna JSX e o Babel irá transformar em um componente react.
    const App = () => {
      return <div>
        <MainNav />       {/*Componente reutilizável dentro de outro!*/}
        <Produtos />
        <Button />
      </div>
    }

    // Renderiza o componente App no elemento que tiver id = app
    ReactDOM.render(<App />, document.getElementById('app'));
  </script>
</body>

</html>